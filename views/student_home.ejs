<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .student_home{
            height:46.5px;
            display: flex;
            flex-direction:row;
            align-items: center;
            gap:20px;
            justify-content: start;
            background-color: #333;
        }
        .student_home a {
        color: white;
        text-align: center;
        padding: 14px 20px;
        text-decoration: none;
    }

    .student_home a:hover {
        background-color: #ddd;
        color: black;
    }
    .logo{
        height:40px;
        border-radius:50%;
    }

    .more{
        display: flex;
        gap:6px;
        justify-content: space-between;
        width:80%;
    }

    .one{
        width:20%;
    }
    .two{
        width:80%;
        display: flex;
        flex-direction:column;
        justify-content: center;
        align-items: center;
    }
    

    .three{
        width:60%;
        background-color: #ffffff;
        border: 1px solid #ddd;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        border-radius: 6px;
        margin-top: 20px;
        padding-left:10px;
        padding-bottom:10px;
    }



    
        .student-profile {
            background-color: #f9f9f9;
            max-width:600px;
            border: 1px solid #ddd;
            border-radius: 8px;
            margin:auto;
            display:block;
            padding: 16px;
            margin-top:50px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .profile-info {
            font-size: 17px;
            margin: 8px 0;
        }
        
        .profile-info strong {
            color: #333;
        }
        
        .profile-update-form {
            margin-top: 16px;
            
        }
        
        .update-button {
            background-color: #007bff;
            color: #fff;
            border: none;
            border-radius: 4px;
            padding:6px 20px;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .update-button:hover {
            background-color: #0056b3;
        }
        
        .job-card {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width:600px;
            display:block;
            margin:auto;
            margin-bottom:20px;
        }
        
        .job-info {
            font-size: 14px;
            margin: 8px 0;
        }
        
        .job-info strong {
            color: #333;
        }
        
        .alumni-card {
            background-color: #ffffff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 16px;
            margin: 16px auto;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%; /* Ensure card is responsive */
        }
        
        .alumni-info {
            margin: 8px 0;
        }
        
        .alumni-info strong {
            color: #444;
        }


    .company-heading {
    font-size: 24px;
    color: #333;
    margin-bottom: 20px;
    text-align: center;
    font-weight: bold;
}

.company-link {
    display: block;
    text-decoration: none;
    color: #007bff;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    margin-bottom: 10px;
    transition: background-color 0.3s, color 0.3s;
}

.company-link:hover {
    background-color: #e6f7ff;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
}

.company-name {
    font-size: 18px;
    color: #555;
    margin: 0;
    font-weight: 500;
}

.company-link p {
    margin: 0;
}


.jobs_applied {
    background-color: #ffffff;
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 16px;
    margin: 16px auto;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    max-width: 600px;
    width: 100%; /* Center the card horizontally */
}

.jobs_applied p {
    margin: 8px 0;
    color: #333;
    font-size: 16px;
}

.jobs_applied p strong {
    color: #000;
    font-weight: bold;
}

.no-offers {
    text-align: center;
    font-size: 18px;
    color: #999;
    margin-top: 20px;
}




/* Styling for the update form */
.update-form {
    max-width: 600px;
    margin: 0 auto;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius: 8px;
    background-color: #f9f9f9;
}

/* Styling for form groups */
.form-group {
    margin-bottom: 20px;
}

/* Styling for form inputs */
.form-input {
    width: 100%;
    padding: 12px;
    border: 1px solid #ccc;
    border-radius: 4px;
    font-size: 16px;
    box-sizing: border-box;
    background-color: #fff;
    color: #333;
}

/* Placeholder styling */
.form-input::placeholder {
    color: #888;
    font-size: 16px;
}

/* Styling for the submit button */
.submit-button {
    background-color: #007bff;
    color: white;
    border: none;
    padding: 12px 20px;
    font-size: 16px;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.submit-button:hover {
    background-color: #0056b3;
}
    </style>

</head>
<body>
    <div class="student_home">
        <img class="logo" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTBrwkuniCAWPapvRKlKlU7wDq4ecsVvB4LBQ&s">
        <a href="/student_profile">profile</a>
        <a href="/student_company" >companies</a>
        <a href="/jobs_applied" >jobs applied</a>
        <a href="/student_alumni" >alumni</a>
        <a href="/student_offers">offers recieved</a>
        <a href="/log_out">Log out</a>
        </div>
        
        <% if(locals.student) {%> 
            <%for(var i=0; i<student.length; i++){ %>
                <div class="student-profile">
                    <p class="profile-info"><strong>Name:</strong> <%= student[i].name %></p>
                    <p class="profile-info"><strong>Email:</strong> <%= student[i].email %></p>
                    <p class="profile-info"><strong>Mobile No:</strong> <%= student[i].mobile %></p>
                    <p class="profile-info"><strong>Semester:</strong> <%= student[i].semester %></p>
                    <p class="profile-info"><strong>Branch:</strong> <%= student[i].specialisation %></p>
                    <p class="profile-info"><strong>Age:</strong> <%= student[i].age %></p>
                    <p class="profile-info"><strong>Class 10th Percentage:</strong> <%= student[i].percentage10 %></p>
                    <p class="profile-info"><strong>Class 12th Percentage:</strong> <%= student[i].percentage12 %></p>
                    <p class="profile-info"><strong>CPI:</strong> <%= student[i].cpi %></p>
                    <p class="profile-info"><strong>Placed:</strong> <%= student[i].placed %></p>
                    <form class="profile-update-form" action="/student_update_profile">
                        <button type="submit" class="update-button">Update Profile</button>
                    </form>
                </div>
            <% }%> 
        <%}%>
        
        
        
        <div class="more">
        <div class="one">
        <%if(locals.company){%>
        <h2 class="company-heading">Companies</h2>
        <%for(var i=0; i<company.length; i++){%>
            <a href="/student_company_jobs/<%=company[i].company_id%>" class="company-link">
                <p class="company-name"><%= company[i].name %></p>
            </a>
        <%}}%>
    
        </div>
        
        <div class="two">
        <% if(locals.jobs){%>
        <%for(var i=0;i<jobs.length;i++){%>   
            <div class="three">
                <p><strong>Role:</strong> <%= jobs[i].roles %></p>
                <p><strong>CTC:</strong> <%= jobs[i].ctc %> lakhs</p>
                <p><strong>Minimum CPI:</strong> <%= jobs[i].minimum_cpi %></p>
                <p><strong>Interview Mode:</strong> <%= jobs[i].interview_mode %></p>
                <% if (cpi >= jobs[i].minimum_cpi && jobs[i].ctc >= max_pack + 5) { %>
                    <form action="/student_apply/<%= jobs[i].jobid %>/<%= jobs[i].company_id %>" method="get">
                        <button class="update-button" type="submit">Apply</button>
                    </form>
                <% } else if (jobs[i].ctc < max_pack + 5) { %>
                    <p class="not-eligible">Not eligible</p>
                    <p>Your current package is more than the job's package</p>
                <% } else { %>
                    <p class="not-eligible">Not Eligible</p>
                    <p>Your CPI is less than the required CPI</p>
                <% } %>
            </div>
        <%}%>
    <%}%>
        </div>
        </div>
    
    
        
        
        <%if(locals.jobs_applied){
        for(var i=0; i<jobs_applied.length; i++){%>
            <div class="job-card">
                <p class="job-info"><strong>Company:</strong> <%= jobs_applied[i].company_name %></p>
                <p class="job-info"><strong>Role:</strong> <%= jobs_applied[i].roles %></p>
                <p class="job-info"><strong>CTC:</strong> <%= jobs_applied[i].ctc %> lakh</p>
                <p class="job-info"><strong>Interview Mode:</strong> <%= jobs_applied[i].interview_mode %></p>
            </div>
        <%}
    }%>
    
        
        
        
    <%if(locals.alumni){
        for(var i=0; i<alumni.length; i++){%>
            <div class="alumni-card">
                <p class="alumni-info"><strong>Name:</strong> <%= alumni[i].name %></p>
                <p class="alumni-info"><strong>Email:</strong> <%= alumni[i].email %></p>
                <p class="alumni-info"><strong>Company:</strong> <%= alumni[i].company_name %></p>
                <p class="alumni-info"><strong>Position:</strong> <%= alumni[i].position %></p>
                <p class="alumni-info"><strong>Location:</strong> <%= alumni[i].location %></p>
            </div>
        <%}}%>
    
            
    
    
    
        <% if (locals.z) { %>
    <form action="/student_update_profile" method="POST" class="update-form">
        <div class="form-group">
            <label for="name" class="form-label">Name:</label>
            <input type="text" id="name" name="name" maxlength="100" value="<%= stud.name %>" class="form-input" required>
        </div>

        <div class="form-group">
            <label for="age" class="form-label">Age:</label>
            <input type="number" id="age" name="age" value="<%= stud.age %>" class="form-input" required>
        </div>

        <div class="form-group">
            <label for="mobile" class="form-label">Mobile:</label>
            <input type="text" id="mobile" name="mobile" pattern="\d{10}" value="<%= stud.mobile %>" class="form-input" required>
        </div>

        <div class="form-group">
            <label for="specialisation" class="form-label">Specialisation:</label>
            <input type="text" id="specialisation" name="specialisation" maxlength="100" value="<%= stud.specialisation %>" class="form-input" required>
        </div>

        <div class="form-group">
            <label for="semester" class="form-label">Semester:</label>
            <input type="number" id="semester" name="semester" value="<%= stud.semester %>" class="form-input" required>
        </div>

        <div class="form-group">
            <label for="percentage10" class="form-label">10th Percentage:</label>
            <input type="number" step="0.01" id="percentage10" name="percentage10" value="<%= stud.percentage10 %>" class="form-input" required>
        </div>

        <div class="form-group">
            <label for="percentage12" class="form-label">12th Percentage:</label>
            <input type="number" step="0.01" id="percentage12" name="percentage12" value="<%= stud.percentage12 %>" class="form-input" required>
        </div>

        <div class="form-group">
            <label for="CPI" class="form-label">CPI:</label>
            <input type="number" step="0.01" id="CPI" name="CPI" value="<%= stud.cpi %>" class="form-input" required>
        </div>

        <div class="form-group">
            <label for="year" class="form-label">Year:</label>
            <input type="number" id="year" name="year" value="<%= stud.year %>" class="form-input" required>
        </div>

        <div class="form-group">
            <label for="placed" class="form-label">Placed (Yes/No):</label>
            <input type="text" id="placed" name="placed" maxlength="3" value="<%= stud.placed %>" class="form-input" required>
        </div>

        <div class="form-group">
            <input type="submit" value="Submit" class="submit-button">
        </div>
    </form>
<% } %>



    
    
    <% if (locals.offers) { %>
    <% if (offers.length > 0) { %>
        <% for (var i = 0; i < offers.length; i++) { %>
            <div class="jobs_applied">
                <p><strong>Company Name:</strong> <%= offers[i].company_name %></p>
                <p><strong>Role:</strong> <%= offers[i].role %></p>
                <p><strong>CTC:</strong> <%= offers[i].ctc %></p>
            </div>
        <% } %>
    <% } else { %>
        <p class="no-offers">No offers received yet</p>
    <% } %>
<% } %>
    
    
    </body>
</body>
</html>